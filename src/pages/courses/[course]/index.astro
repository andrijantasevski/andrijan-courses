---
import Layout from "@layouts/Layout.astro";

const { course } = Astro.params;

const coursePath = `content/courses/${course}`;

const courses = await Astro.glob("/content/courses/*/*.mdx");

const courseFiltered = courses.find((course) =>
  course.url?.includes(coursePath)
);

if (!courseFiltered) {
  return new Response(null, {
    status: 404,
    statusText: "Not found",
  });
}

const { Content, frontmatter } = courseFiltered;
---

<Layout title={frontmatter.title}>
  <Content />
</Layout>
